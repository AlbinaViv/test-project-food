{"version":3,"file":"commonHelpers2.js","sources":["../src/js/header.js","../src/js/basket.js","../src/js/fetch.js","../src/js/modal.js","../src/js/cards.js","../src/js/render.js"],"sourcesContent":["console.log(\"header\");","console.log(\"basket\");","import axios from 'axios';\nimport { addLoader, removeLoader } from './loader';\n// axios.defaults.baseURL = \"https://food-boutique.b.goit.study/api/\"; приклад використання, але другий більш універсальний\nconst axiosGet = axios.create({\n  baseURL: 'https://food-boutique.b.goit.study/api/',\n});\nasync function fetchProducts(url) {\n  try {\n    // addLoader();\n    const { data } = await axiosGet(url);\n    return data;\n  } catch (error) {\n    console.log(error);\n  } finally {\n    // removeLoader();\n  }\n}\nexport function getAllProducts() {\n  const url = '/products';\n  return fetchProducts(url);\n}\n// getAllProducts().then(console.log);\n\n// return fetchProducts(url/popular);\n\nexport async function getPopularProducts() {\n  const url = '/products/popular';\n\n  const data = await fetchProducts(url);\n  const result = data.sort((a, b) => b.popularity - a.popularity);\n  return result;\n}\ngetPopularProducts().then(console.log);\n\nexport async function getDiscountProducts() {\n  const url = '/products/discount';\n\n  const data = await fetchProducts(url);\n  const result = data.sort(() => Math.random() - 0.5).slice(0, 2);\n  return result;\n}\n// getDiscountProducts().then(console.log);\n\n// async function getCategories() {\n//     const url = \"/products/categories\";\n//     const data = await fetchProducts(url);\n//     const categories = data.map((category) => {\n//         const categoryArr = category.split('_');\n//         const newCategory = categoryArr.join(' ');\n//         return newCategory;\n//     });\n//     return categories;\n// } повний запис, а я використовую короткий ->\n\nasync function getCategories() {\n  const url = '/products/categories';\n  const data = await fetchProducts(url);\n  return data.map(category => category.split('_').join(' '));\n}\n\n// getCategories().then(console.log)\n\nexport function getProduct(id) {\n  const url = `/products/${id}`;\n  return fetchProducts(url);\n}\n// getProduct('640c2dd963a319ea671e3860').then(console.log);\n","import { getProduct } from './fetch';\n\nconst backdropEl = document.querySelector('.backdrop');\nconst btnClose = document.querySelector('.close');\n\nbtnClose.addEventListener('click', closeModal);\n\nexport function closeModal() {\n  backdropEl.classList.add('is-hidden');\n}\n\nexport async function openModal() {\n  backdropEl.classList.remove('is-hidden');\n  const data = await getProduct('640c2dd963a319ea671e3860');\n  console.log(data);\n}\n\nexport function toggleModal() {\n  backdropEl.classList.toggle('is-hidden');\n}\n","import {\n  getAllProducts,\n  getDiscountProducts,\n  getPopularProducts,\n} from './fetch';\n\nimport { openModal } from './modal';\n\nexport async function mainCardsMarkup(arr) {\n  const { results } = await getAllProducts();\n  const markup = results\n    .map(\n      ({\n        img,\n        name,\n        category,\n        popularity,\n        price,\n        size,\n        _id,\n        is10PercentOff,\n      }) => `<li class=\"cards-products-list\">\n     <a href=\"\"><div class=\"wrap-img\"><img class=\"cards-img\" src=\"${img}\" alt=\"${name}\"></div>\n     <h3 class=\"descr-title\">${name}</h3>\n     <div class=\"description\">\n             <ul class=\"list discription-list\">\n                 <li class=\"cards-text\"><span class=\"inform-products\">Category: </span><span class=\"inform-products-dom\">${category\n                   .split('_')\n                   .join(' ')}</span></li>\n                 <li class=\"cards-text\"><span class=\"inform-products\">Size: </span><span class=\"inform-products-dom\">${size}</span></li>\n                 <li class=\"cards-text\"><span class=\"inform-products\">Popularity: </span><span class=\"inform-products-dom\">${popularity}</span></li>\n             </ul>\n         </div>\n         <div class=\"price-btn\">\n             <p class=\"price\">$${price}</p>\n             <button class=\"btn-white-basket\" type=\"button\">\n             <svg class=\"icon-basket-white\" width=\"18\" height=\"18\">\n             <use href=\"../img/sprite.svg#icon-white-basket\"></use>\n    </svg>\n             </button>\n         </div>\n     </a>\n </li>`\n    )\n    .join('');\n\n  const ul = document.createElement('ul');\n  ul.innerHTML = markup;\n  // створили ul і всередину(innerHTML) поклали markup\n  ul.classList = 'list cards-list';\n\n  ul.addEventListener('click', e => {\n    e.preventDefault();\n    if (e.target.nodeName === 'UL') {\n      return;\n    }\n    openModal();\n  });\n\n  return ul;\n}\n\n// mainCardsMarkup().then(console.log);\nexport async function popularMarkup(arr) {\n  const result = await getPopularProducts();\n\n  const markup = result\n    .map(\n      ({\n        img,\n        name,\n        category,\n        popularity,\n        size,\n        _id,\n      }) => `<li class=\"cards-products-list\">\n    <a href=\"\"\n      ><div class=\"wrap-img\">\n        <img class=\"cards-img\" src=\"${img}\" alt=\"${name}\" />\n      </div>\n      <div class=\"description\">\n        <h3 class=\"descr-title\">${name}</h3>\n        <ul class=\"list\">\n          <li class=\"cards-text\">\n            <span class=\"inform-products\">Category: </span\n            ><span class=\"inform-products-dom\"\n              >${category.split('_').join(' ')}</span\n            >\n          </li>\n          <li class=\"cards-text\">\n            <span class=\"inform-products\">Size: </span\n            ><span class=\"inform-products-dom\">${size}</span>\n          </li>\n          <li class=\"cards-text\">\n            <span class=\"inform-products\">Popularity: </span\n            ><span class=\"inform-products-dom\">${popularity}</span>\n          </li>\n        </ul>\n      </div>\n      <button class=\"btn-green-basket\" type=\"button\">\n        <svg class=\"icon-basket-green\" width=\"18\" height=\"18\">\n          <use href=\"../img/sprite.svg#icon-green-basket\"></use>\n        </svg>\n      </button>\n    </a>\n  </li>\n  `\n    )\n    .join('');\n\n  const ul = document.createElement('ul');\n  ul.innerHTML = markup;\n  // створили ul і всередину(innerHTML) поклали markup\n  ul.classList = 'list popular-list';\n  return ul;\n}\n\nexport async function discountMarkup(arr) {\n  const results = await getDiscountProducts();\n\n  const markup = results\n    .map(\n      ({\n        img,\n        is10PercentOff,\n        price,\n        name,\n        _id,\n      }) => `<li class=\"cards-products-list\">\n      <a href=\"\"\n        ><div class=\"wrap-img\">\n          <img class=\"cards-img\" src=\"${img}\" alt=\"${name}\" />\n        </div>\n        <div class=\"description\">\n          <h3 class=\"descr-title\">${name}</h3>\n          <p class=\"price\">$${price}</p>\n          <button class=\"btn-white-basket\" type=\"button\">\n            <svg class=\"icon-basket-white\" width=\"18\" height=\"18\">\n              <use href=\"../img/sprite.svg#icon-white-basket\"></use>\n            </svg>\n          </button>\n        </div>\n      </a>\n    </li>\n    `\n    )\n    .join('');\n\n  const ul = document.createElement('ul');\n  ul.innerHTML = markup;\n  // створили ul і всередину(innerHTML) поклали markup\n  ul.classList = 'list cards-list';\n  return ul;\n}\n","import { discountMarkup, mainCardsMarkup, popularMarkup } from './cards';\n\nconst cardsPaggin = document.querySelector('.cards-paggination');\nconst cardsPopular = document.querySelector('.popular');\nconst cardsDiscount = document.querySelector('.discount');\n\nasync function render() {\n  const mainCards = await mainCardsMarkup();\n  cardsPaggin.insertAdjacentElement('beforeend', mainCards);\n\n  const popularCards = await popularMarkup();\n  cardsPopular.insertAdjacentElement('beforeend', popularCards);\n\n  const discountCards = await discountMarkup();\n  cardsDiscount.insertAdjacentElement('beforeend', discountCards);\n}\nrender();\n"],"names":["axiosGet","axios","fetchProducts","url","data","error","getAllProducts","getPopularProducts","a","b","getDiscountProducts","getProduct","id","backdropEl","btnClose","closeModal","openModal","mainCardsMarkup","arr","results","markup","img","name","category","popularity","price","size","_id","is10PercentOff","ul","e","popularMarkup","discountMarkup","cardsPaggin","cardsPopular","cardsDiscount","render","mainCards","popularCards","discountCards"],"mappings":"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"}