{"version":3,"file":"commonHelpers2.js","sources":["../src/js/header.js","../src/js/basket.js","../src/js/fetch.js","../src/js/cards.js","../src/js/render.js"],"sourcesContent":["console.log(\"header\");","console.log(\"basket\");","import axios from 'axios';\nimport { addLoader, removeLoader } from './loader';\n// axios.defaults.baseURL = \"https://food-boutique.b.goit.study/api/\"; приклад використання, але другий більш універсальний\nconst axiosGet = axios.create({\n  baseURL: 'https://food-boutique.b.goit.study/api/',\n});\nasync function fetchProducts(url) {\n  try {\n    // addLoader();\n    const { data } = await axiosGet(url);\n    return data;\n  } catch (error) {\n    console.log(error);\n  } finally {\n    // removeLoader();\n  }\n}\nexport function getAllProducts() {\n  const url = '/products';\n  return fetchProducts(url);\n}\n// getAllProducts().then(console.log);\n\n// return fetchProducts(url/popular);\n\nfunction getPopularProducts() {\n  const url = '/products/popular';\n\n  return fetchProducts(url);\n}\n// getPopularProducts().then(console.log)\n\nexport async function getDiscountProducts() {\n  const url = '/products/discount';\n\n  const data = await fetchProducts(url);\n  const result = data.sort(() => Math.random() - 0.5).slice(0, 2);\n  return result;\n}\n// getDiscountProducts().then(console.log);\n\n// async function getCategories() {\n//     const url = \"/products/categories\";\n//     const data = await fetchProducts(url);\n//     const categories = data.map((category) => {\n//         const categoryArr = category.split('_');\n//         const newCategory = categoryArr.join(' ');\n//         return newCategory;\n//     });\n//     return categories;\n// } повний запис, а я використовую короткий ->\n\nasync function getCategories() {\n  const url = '/products/categories';\n  const data = await fetchProducts(url);\n  return data.map(category => category.split('_').join(' '));\n}\n\n// getCategories().then(console.log)\n\nfunction getProduct(id) {\n  const url = `/products/${id}`;\n  return fetchProducts(url);\n}\n// getProduct(\"640c2dd963a319ea671e3860\").then(console.log)\n","import { getAllProducts, getDiscountProducts } from './fetch';\n\nexport async function mainCardsMarkup(arr) {\n  const { results } = await getAllProducts();\n  const markup = results\n    .map(\n      ({\n        img,\n        name,\n        category,\n        popularity,\n        price,\n        size,\n        _id,\n        is10PercentOff,\n      }) => `<li class=\"cards-products-list\">\n     <a href=\"\"><div class=\"wrap-img\"><img class=\"cards-img\" src=\"${img}\" alt=\"${name}\"></div>\n     <div class=\"description\">\n             <h3 class=\"descr-title\">${name}</h3>\n             <ul class=\"list discription-list\">\n                 <li class=\"cards-text\"><span class=\"inform-products\">Category: </span><span class=\"inform-products-dom\">${category\n                   .split('_')\n                   .join(' ')}</span></li>\n                 <li class=\"cards-text\"><span class=\"inform-products\">Size: </span><span class=\"inform-products-dom\">${size}</span></li>\n                 <li class=\"cards-text\"><span class=\"inform-products\">Popularity: </span><span class=\"inform-products-dom\">${popularity}</span></li>\n             </ul>\n         </div>\n         <div class=\"price-btn\">\n             <p class=\"price\">$${price}</p>\n             <button class=\"btn-white-basket\" type=\"button\">\n             <svg class=\"icon-basket-white\" width=\"18\" height=\"18\">\n             <use href=\"../img/sprite.svg#icon-white-basket\"></use>\n    </svg>\n             </button>\n         </div>\n     </a>\n </li>`\n    )\n    .join('');\n\n  const ul = document.createElement('ul');\n  ul.innerHTML = markup;\n  // створили ul і всередину(innerHTML) поклали markup\n  ul.classList = 'list cards-list';\n  return ul;\n}\n\n// mainCardsMarkup().then(console.log);\n\nexport async function discountMarkup(arr) {\n  const results = await getDiscountProducts();\n\n  const markup = results\n    .map(\n      ({\n        img,\n        is10PercentOff,\n        price,\n        name,\n        _id,\n      }) => `<li class=\"cards-products-list\">\n      <a href=\"\"\n        ><div class=\"wrap-img\">\n          <img class=\"cards-img\" src=\"${img}\" alt=\"${name}\" />\n        </div>\n        <div class=\"description\">\n          <h3 class=\"descr-title\">${name}</h3>\n          <p class=\"price\">$${price}</p>\n          <button class=\"btn-white-basket\" type=\"button\">\n            <svg class=\"icon-basket-white\" width=\"18\" height=\"18\">\n              <use href=\"../img/sprite.svg#icon-white-basket\"></use>\n            </svg>\n          </button>\n        </div>\n      </a>\n    </li>\n    `\n    )\n    .join('');\n\n  const ul = document.createElement('ul');\n  ul.innerHTML = markup;\n  // створили ul і всередину(innerHTML) поклали markup\n  ul.classList = 'list cards-list';\n  return ul;\n}\n\ndiscountMarkup();\n\n// const { results } = await getAllProducts();\n// const markup = results\n//   .map(\n//     ({\n//       img,\n//       name,\n//       category,\n//       popularity,\n//       price,\n//       size,\n//       _id,\n//       is10PercentOff,\n//     }) =>\n","import { discountMarkup, mainCardsMarkup } from './cards';\n\nconst cardsPaggin = document.querySelector('.cards-paggination');\nconst cardsDiscount = document.querySelector('.discount');\n\nasync function render() {\n  const mainCardsMarkup = await mainCardsMarkup();\n  cardsPaggin.insertAdjacentElement('beforeend', mainCardsMarkup);\n\n  const discountMarkup = await discountMarkup();\n\n  cardsDiscount.insertAdjacentElement('beforeend', discountMarkup);\n}\nrender();\n"],"names":["axiosGet","axios","fetchProducts","url","data","error","getDiscountProducts","discountMarkup","arr","markup","img","is10PercentOff","price","name","_id","ul","cardsPaggin","cardsDiscount","render","mainCardsMarkup"],"mappings":"ivBAAA,QAAQ,IAAI,QAAQ,ECApB,QAAQ,IAAI,QAAQ,ECGpB,MAAMA,EAAWC,EAAM,OAAO,CAC5B,QAAS,yCACX,CAAC,EACD,eAAeC,EAAcC,EAAK,CAChC,GAAI,CAEF,KAAM,CAAE,KAAAC,CAAM,EAAG,MAAMJ,EAASG,CAAG,EACnC,OAAOC,CACR,OAAQC,EAAP,CACA,QAAQ,IAAIA,CAAK,CACrB,QAAY,CAET,CACH,CAgBO,eAAeC,GAAsB,CAK1C,OAFa,MAAMJ,EAFP,oBAEwB,GAChB,KAAK,IAAM,KAAK,SAAW,EAAG,EAAE,MAAM,EAAG,CAAC,CAEhE,CCWO,eAAeK,EAAeC,EAAK,CAGxC,MAAMC,GAFU,MAAMH,KAGnB,IACC,CAAC,CACC,IAAAI,EACA,eAAAC,EACA,MAAAC,EACA,KAAAC,EACA,IAAAC,CACR,IAAY;AAAA;AAAA;AAAA,wCAG4BJ,WAAaG;AAAA;AAAA;AAAA,oCAGjBA;AAAA,8BACND;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAUzB,EACA,KAAK,EAAE,EAEJG,EAAK,SAAS,cAAc,IAAI,EACtC,OAAAA,EAAG,UAAYN,EAEfM,EAAG,UAAY,kBACRA,CACT,CAEAR,ICrFA,MAAMS,EAAc,SAAS,cAAc,oBAAoB,EACzDC,EAAgB,SAAS,cAAc,WAAW,EAExD,eAAeC,GAAS,CACtB,MAAMC,EAAkB,MAAMA,IAC9BH,EAAY,sBAAsB,YAAaG,CAAe,EAE9D,MAAMZ,EAAiB,MAAMA,IAE7BU,EAAc,sBAAsB,YAAaV,CAAc,CACjE,CACAW,EAAQ"}